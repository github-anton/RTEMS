/*
 * CFPGA_Default.cpp
 *
 *  Created on: Feb 26, 2021
 *      Author: anton
 */
#include "CFPGA.h"
#include "../System/MMIProto.h"
#include <math.h>

double CFPGA::initCorrLvlCoef_f = 0.8 ;

double CFPGA::initFreqSampl0 = pow(9.6e3, 2) ;

//double CFPGA::initFreqChannel[4] = {156.775, 156.825, 161.975, 162.025} ;
double CFPGA::initFreqChannel[4] = {161.975, 162.025, 156.775, 156.825} ;

u_int CFPGA::defaultResetDSP = 1 ;

//u_int CFPGA::defaultADCAtten_1 = 63 ;
u_int CFPGA::defaultADCAtten_1 = 0 ;

//u_int CFPGA::defaultADCAtten_2 = 1 ;
u_int CFPGA::defaultADCAtten_2 = 0 ;

u_int CFPGA::defaultPeakDetectSigDel = ((12+8+168+16+8)*8+(32-8)*8-64)*8 ;

u_int CFPGA::defaultPeakDetectCorrDel = (12+8+168+16+8)*8-1 ;

u_int CFPGA::defaultDDCFilterCoef[436] = {
	0x00502,
	0x3f9f6,
	0x3fc25,
	0x3fd3d,
	0x3fdc3,
	0x3fdfb,
	0x3fe0b,
	0x3fe07,
	0x3fdf8,
	0x3fde4,
	0x3fdce,
	0x3fdb9,
	0x3fda4,
	0x3fd92,
	0x3fd81,
	0x3fd73,
	0x3fd67,
	0x3fd5f,
	0x3fd5a,
	0x3fd57,
	0x3fd59,
	0x3fd5e,
	0x3fd67,
	0x3fd73,
	0x3fd83,
	0x3fd99,
	0x3fdae,
	0x3fdcc,
	0x3fdeb,
	0x3fe0c,
	0x3fe34,
	0x3fe5f,
	0x3fe8a,
	0x3feba,
	0x3feee,
	0x3ff23,
	0x3ff5a,
	0x3ff92,
	0x3ffcd,
	0x00009,
	0x00046,
	0x00082,
	0x000be,
	0x000fa,
	0x00135,
	0x0016f,
	0x001a8,
	0x001dd,
	0x0020f,
	0x0023e,
	0x0026b,
	0x00293,
	0x002b8,
	0x002d7,
	0x002f1,
	0x00306,
	0x00314,
	0x0031d,
	0x00320,
	0x0031d,
	0x00314,
	0x00305,
	0x002ef,
	0x002d3,
	0x002b1,
	0x00288,
	0x0025a,
	0x00225,
	0x001ec,
	0x001ad,
	0x0016a,
	0x00122,
	0x000d6,
	0x00087,
	0x00035,
	0x3ffe1,
	0x3ff8b,
	0x3ff34,
	0x3fedd,
	0x3fe86,
	0x3fe31,
	0x3fddc,
	0x3fd8a,
	0x3fd3b,
	0x3fcf0,
	0x3fca9,
	0x3fc68,
	0x3fc2b,
	0x3fbf5,
	0x3fbc6,
	0x3fb9e,
	0x3fb7e,
	0x3fb67,
	0x3fb57,
	0x3fb51,
	0x3fb53,
	0x3fb5f,
	0x3fb75,
	0x3fb94,
	0x3fbbc,
	0x3fbed,
	0x3fc28,
	0x3fc6b,
	0x3fcb7,
	0x3fd0b,
	0x3fd67,
	0x3fdc9,
	0x3fe33,
	0x3fea2,
	0x3ff16,
	0x3ff8e,
	0x0000a,
	0x00088,
	0x00107,
	0x00188,
	0x00208,
	0x00287,
	0x00303,
	0x0037c,
	0x003f1,
	0x00460,
	0x004c9,
	0x0052b,
	0x00584,
	0x005d5,
	0x0061b,
	0x00657,
	0x00688,
	0x006ac,
	0x006c5,
	0x006d0,
	0x006ce,
	0x006bf,
	0x006a2,
	0x00678,
	0x00640,
	0x005fa,
	0x005a7,
	0x00548,
	0x004dc,
	0x00465,
	0x003e2,
	0x00355,
	0x002bf,
	0x00221,
	0x0017b,
	0x000cf,
	0x0001e,
	0x3ff69,
	0x3feb3,
	0x3fdfb,
	0x3fd43,
	0x3fc8e,
	0x3fbdb,
	0x3fb2e,
	0x3fa86,
	0x3f9e7,
	0x3f950,
	0x3f8c3,
	0x3f843,
	0x3f7cf,
	0x3f768,
	0x3f711,
	0x3f6cb,
	0x3f694,
	0x3f670,
	0x3f65d,
	0x3f65e,
	0x3f671,
	0x3f698,
	0x3f6d1,
	0x3f71e,
	0x3f77e,
	0x3f7f1,
	0x3f876,
	0x3f90c,
	0x3f9b2,
	0x3fa68,
	0x3fb2d,
	0x3fbff,
	0x3fcdc,
	0x3fdc4,
	0x3feb4,
	0x3ffac,
	0x000a8,
	0x001a8,
	0x002a9,
	0x003aa,
	0x004a9,
	0x005a2,
	0x00695,
	0x00780,
	0x00860,
	0x00933,
	0x009f9,
	0x00aae,
	0x00b51,
	0x00be1,
	0x00c5c,
	0x00cc1,
	0x00d0e,
	0x00d43,
	0x00d5f,
	0x00d61,
	0x00d48,
	0x00d15,
	0x00cc7,
	0x00c5e,
	0x00bdb,
	0x00b3f,
	0x00a89,
	0x009bb,
	0x008d6,
	0x007dc,
	0x006cd,
	0x005ac,
	0x0047b,
	0x0033c,
	0x001f0,
	0x0009b,
	0x3ff3e,
	0x3fddd,
	0x3fc7a,
	0x3fb17,
	0x3f9b8,
	0x3f85e,
	0x3f70e,
	0x3f5c9,
	0x3f493,
	0x3f36e,
	0x3f25c,
	0x3f161,
	0x3f07e,
	0x3efb5,
	0x3ef09,
	0x3ee7c,
	0x3ee0f,
	0x3edc3,
	0x3ed9a,
	0x3ed95,
	0x3edb4,
	0x3edf8,
	0x3ee61,
	0x3eeee,
	0x3efa0,
	0x3f076,
	0x3f16e,
	0x3f287,
	0x3f3c0,
	0x3f517,
	0x3f689,
	0x3f815,
	0x3f9b8,
	0x3fb6f,
	0x3fd37,
	0x3ff0d,
	0x000ec,
	0x002d3,
	0x004bd,
	0x006a7,
	0x0088c,
	0x00a6a,
	0x00c3b,
	0x00dfd,
	0x00fab,
	0x01142,
	0x012be,
	0x0141c,
	0x01559,
	0x01672,
	0x01763,
	0x0182a,
	0x018c5,
	0x01932,
	0x0196f,
	0x0197b,
	0x01955,
	0x018fb,
	0x0186f,
	0x017af,
	0x016bd,
	0x0159a,
	0x01446,
	0x012c3,
	0x01114,
	0x00f3b,
	0x00d3b,
	0x00b17,
	0x008d2,
	0x00671,
	0x003f7,
	0x00169,
	0x3fecb,
	0x3fc23,
	0x3f975,
	0x3f6c7,
	0x3f41e,
	0x3f17f,
	0x3eeef,
	0x3ec74,
	0x3ea13,
	0x3e7d2,
	0x3e5b5,
	0x3e3c1,
	0x3e1fb,
	0x3e067,
	0x3df0a,
	0x3dde7,
	0x3dd02,
	0x3dc5d,
	0x3dbfc,
	0x3dbe0,
	0x3dc0b,
	0x3dc7e,
	0x3dd3b,
	0x3de40,
	0x3df8e,
	0x3e123,
	0x3e2fe,
	0x3e51d,
	0x3e77d,
	0x3ea1b,
	0x3ecf4,
	0x3f002,
	0x3f341,
	0x3f6ac,
	0x3fa3d,
	0x3fdee,
	0x001b8,
	0x00595,
	0x0097e,
	0x00d6b,
	0x01155,
	0x01534,
	0x018ff,
	0x01cb1,
	0x0203f,
	0x023a4,
	0x026d6,
	0x029d0,
	0x02c89,
	0x02efa,
	0x0311e,
	0x032ee,
	0x03464,
	0x0357c,
	0x03631,
	0x0367e,
	0x03661,
	0x035d7,
	0x034de,
	0x03375,
	0x0319c,
	0x02f54,
	0x02c9d,
	0x0297a,
	0x025ed,
	0x021fb,
	0x01da9,
	0x018fb,
	0x013f9,
	0x00ea8,
	0x00912,
	0x0033e,
	0x3fd36,
	0x3f703,
	0x3f0b1,
	0x3ea4a,
	0x3e3d9,
	0x3dd6b,
	0x3d70c,
	0x3d0c8,
	0x3caab,
	0x3c4c4,
	0x3bf1e,
	0x3b9c7,
	0x3b4cc,
	0x3b038,
	0x3ac18,
	0x3a879,
	0x3a566,
	0x3a2ea,
	0x3a10e,
	0x39fdf,
	0x39f63,
	0x39fa4,
	0x3a0a9,
	0x3a279,
	0x3a518,
	0x3a88d,
	0x3acd9,
	0x3b200,
	0x3b803,
	0x3bee2,
	0x3c69b,
	0x3cf2c,
	0x3d893,
	0x3e2c9,
	0x3edca,
	0x3f98d,
	0x0060c,
	0x0133c,
	0x02113,
	0x02f86,
	0x03e88,
	0x04e0b,
	0x05e01,
	0x06e5c,
	0x07f0b,
	0x08ffe,
	0x0a123,
	0x0b269,
	0x0c3bf,
	0x0d511,
	0x0e64d,
	0x0f760,
	0x10839,
	0x118c3,
	0x128ee,
	0x138a6,
	0x147da,
	0x15678,
	0x16471,
	0x171b3,
	0x17e2f,
	0x189d8,
	0x1949f,
	0x19e77,
	0x1a756,
	0x1af30,
	0x1b5fd,
	0x1bbb4,
	0x1c04f,
	0x1c3c8,
	0x1c61a,
	0x1c745
} ;

u_int CFPGA::defaultCorrCoefsReal[256] = {
	0x2e2fb,
	0x33a11,
	0x39625,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945,
	0x0ab40,
	0x0824d,
	0x0420d,
	0x3f0b9,
	0x39625,
	0x33a11,
	0x2e2fb,
	0x295d4,
	0x25643,
	0x226f8,
	0x209d6,
	0x20000,
	0x209d7,
	0x226f9,
	0x2564a,
	0x295f6,
	0x2e38c,
	0x33c11,
	0x39c1d,
	0x00000,
	0x063e3,
	0x0c3ef,
	0x11c74,
	0x16a0a,
	0x1a9b6,
	0x1d907,
	0x1f629,
	0x1ffff,
	0x1f629,
	0x1d907,
	0x1a9b6,
	0x16a0a,
	0x11c74,
	0x0c3ef,
	0x063e3,
	0x00000,
	0x39c1d,
	0x33c11,
	0x2e38c,
	0x295f6,
	0x2564a,
	0x226f9,
	0x209d7,
	0x20000,
	0x209d6,
	0x226f8,
	0x25643,
	0x295d4,
	0x2e2fb,
	0x33a11,
	0x39625,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945,
	0x0ab40,
	0x0824d,
	0x0420d,
	0x3f0b9,
	0x39626,
	0x33a14,
	0x2e305,
	0x295f6,
	0x256a4,
	0x227cd,
	0x20b10,
	0x2003a,
	0x20447,
	0x210dc,
	0x21d7d,
	0x222b2,
	0x21d7d,
	0x210dc,
	0x20447,
	0x2003a,
	0x20b10,
	0x227cd,
	0x256a4,
	0x295f6,
	0x2e305,
	0x33a14,
	0x39626,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945,
	0x0ab40,
	0x0824d,
	0x0420d,
	0x3f0b9,
	0x39626,
	0x33a14,
	0x2e305,
	0x295f6,
	0x256a4,
	0x227cd,
	0x20b10,
	0x2003a,
	0x20447,
	0x210dc,
	0x21d7d,
	0x222b2,
	0x21d7d,
	0x210dc,
	0x20447,
	0x2003a,
	0x20b10,
	0x227cd,
	0x256a4,
	0x295f6,
	0x2e305,
	0x33a14,
	0x39626,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945,
	0x0ab40,
	0x0824d,
	0x0420d,
	0x3f0b9,
	0x39626,
	0x33a14,
	0x2e305,
	0x295f6,
	0x256a4,
	0x227cd,
	0x20b10,
	0x2003a,
	0x20447,
	0x210dc,
	0x21d7d,
	0x222b2,
	0x21d7d,
	0x210dc,
	0x20447,
	0x2003a,
	0x20b10,
	0x227cd,
	0x256a4,
	0x295f6,
	0x2e305,
	0x33a14,
	0x39626,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945,
	0x0ab40,
	0x0824d,
	0x0420d,
	0x3f0b9,
	0x39626,
	0x33a14,
	0x2e305,
	0x295f6,
	0x256a4,
	0x227cd,
	0x20b10,
	0x2003a,
	0x20447,
	0x210dc,
	0x21d7d,
	0x222b2,
	0x21d7d,
	0x210dc,
	0x20447,
	0x2003a,
	0x20b10,
	0x227cd,
	0x256a4,
	0x295f6,
	0x2e305,
	0x33a14,
	0x39626,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945,
	0x0ab40,
	0x0824d,
	0x0420d,
	0x3f0b9,
	0x39626,
	0x33a14,
	0x2e305,
	0x295f6,
	0x256a4,
	0x227cd,
	0x20b10,
	0x2003a,
	0x20447,
	0x210dc,
	0x21d7d,
	0x222b2,
	0x21d7d,
	0x210dc,
	0x20447,
	0x2003a,
	0x20b10,
	0x227cd,
	0x256a4,
	0x295f6,
	0x2e305,
	0x33a14,
	0x39626,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945,
	0x0ab40,
	0x0824d,
	0x0420d,
	0x3f0b9,
	0x39626,
	0x33a14,
	0x2e305,
	0x295f6,
	0x256a4,
	0x227cd,
	0x20b10,
	0x2003a,
	0x20447,
	0x210dc,
	0x21d7d,
	0x222b2,
	0x21d7d,
	0x210dc,
	0x20447,
	0x2003a,
	0x20b10,
	0x227cd,
	0x256a4,
	0x295f6,
	0x2e305,
	0x33a14,
	0x39626,
	0x3f0b9,
	0x0420d,
	0x0824d,
	0x0ab40,
	0x0b945
} ;

u_int CFPGA::defaultCorrCoefsImag[256] = {
	0x256ab,
	0x227ce,
	0x20b10,
	0x2003a,
	0x20447,
	0x210dc,
	0x21d7d,
	0x222b2,
	0x21d7d,
	0x210dc,
	0x20447,
	0x2003a,
	0x20b10,
	0x227ce,
	0x256ab,
	0x29619,
	0x2e396,
	0x33c13,
	0x39c1e,
	0x00000,
	0x063e3,
	0x0c3ef,
	0x11c74,
	0x16a0a,
	0x1a9b6,
	0x1d907,
	0x1f629,
	0x1ffff,
	0x1f629,
	0x1d907,
	0x1a9b6,
	0x16a0a,
	0x11c74,
	0x0c3ef,
	0x063e3,
	0x00000,
	0x39c1d,
	0x33c11,
	0x2e38c,
	0x295f6,
	0x2564a,
	0x226f9,
	0x209d7,
	0x20000,
	0x209d7,
	0x226f9,
	0x2564a,
	0x295f6,
	0x2e38c,
	0x33c11,
	0x39c1d,
	0x00000,
	0x063e2,
	0x0c3ed,
	0x11c6a,
	0x169e7,
	0x1a955,
	0x1d832,
	0x1f4f0,
	0x1ffc6,
	0x1fbb9,
	0x1ef24,
	0x1e283,
	0x1dd4e,
	0x1e283,
	0x1ef24,
	0x1fbb9,
	0x1ffc6,
	0x1f4f0,
	0x1d833,
	0x1a95c,
	0x16a0a,
	0x11cfb,
	0x0c5ec,
	0x069da,
	0x00f47,
	0x3bdf3,
	0x37db3,
	0x354c0,
	0x346bb,
	0x354c0,
	0x37db3,
	0x3bdf3,
	0x00f47,
	0x069da,
	0x0c5ec,
	0x11cfb,
	0x16a0a,
	0x1a95c,
	0x1d833,
	0x1f4f0,
	0x1ffc6,
	0x1fbb9,
	0x1ef24,
	0x1e283,
	0x1dd4e,
	0x1e283,
	0x1ef24,
	0x1fbb9,
	0x1ffc6,
	0x1f4f0,
	0x1d833,
	0x1a95c,
	0x16a0a,
	0x11cfb,
	0x0c5ec,
	0x069da,
	0x00f47,
	0x3bdf3,
	0x37db3,
	0x354c0,
	0x346bb,
	0x354c0,
	0x37db3,
	0x3bdf3,
	0x00f47,
	0x069da,
	0x0c5ec,
	0x11cfb,
	0x16a0a,
	0x1a95c,
	0x1d833,
	0x1f4f0,
	0x1ffc6,
	0x1fbb9,
	0x1ef24,
	0x1e283,
	0x1dd4e,
	0x1e283,
	0x1ef24,
	0x1fbb9,
	0x1ffc6,
	0x1f4f0,
	0x1d833,
	0x1a95c,
	0x16a0a,
	0x11cfb,
	0x0c5ec,
	0x069da,
	0x00f47,
	0x3bdf3,
	0x37db3,
	0x354c0,
	0x346bb,
	0x354c0,
	0x37db3,
	0x3bdf3,
	0x00f47,
	0x069da,
	0x0c5ec,
	0x11cfb,
	0x16a0a,
	0x1a95c,
	0x1d833,
	0x1f4f0,
	0x1ffc6,
	0x1fbb9,
	0x1ef24,
	0x1e283,
	0x1dd4e,
	0x1e283,
	0x1ef24,
	0x1fbb9,
	0x1ffc6,
	0x1f4f0,
	0x1d833,
	0x1a95c,
	0x16a0a,
	0x11cfb,
	0x0c5ec,
	0x069da,
	0x00f47,
	0x3bdf3,
	0x37db3,
	0x354c0,
	0x346bb,
	0x354c0,
	0x37db3,
	0x3bdf3,
	0x00f47,
	0x069da,
	0x0c5ec,
	0x11cfb,
	0x16a0a,
	0x1a95c,
	0x1d833,
	0x1f4f0,
	0x1ffc6,
	0x1fbb9,
	0x1ef24,
	0x1e283,
	0x1dd4e,
	0x1e283,
	0x1ef24,
	0x1fbb9,
	0x1ffc6,
	0x1f4f0,
	0x1d833,
	0x1a95c,
	0x16a0a,
	0x11cfb,
	0x0c5ec,
	0x069da,
	0x00f47,
	0x3bdf3,
	0x37db3,
	0x354c0,
	0x346bb,
	0x354c0,
	0x37db3,
	0x3bdf3,
	0x00f47,
	0x069da,
	0x0c5ec,
	0x11cfb,
	0x16a0a,
	0x1a95c,
	0x1d833,
	0x1f4f0,
	0x1ffc6,
	0x1fbb9,
	0x1ef24,
	0x1e283,
	0x1dd4e,
	0x1e283,
	0x1ef24,
	0x1fbb9,
	0x1ffc6,
	0x1f4f0,
	0x1d833,
	0x1a95c,
	0x16a0a,
	0x11cfb,
	0x0c5ec,
	0x069da,
	0x00f47,
	0x3bdf3,
	0x37db3,
	0x354c0,
	0x346bb,
	0x354c0,
	0x37db3,
	0x3bdf3,
	0x00f47,
	0x069da,
	0x0c5ec,
	0x11cfb,
	0x16a0a,
	0x1a95c,
	0x1d833,
	0x1f4f0,
	0x1ffc6,
	0x1fbb9,
	0x1ef24,
	0x1e283,
	0x1dd4e
} ;

u_int CFPGA::defaultRecvFilterCoef[129] = {
	0x0008f,
	0x00035,
	0x3ffc9,
	0x3ff61,
	0x3ff15,
	0x3fefb,
	0x3ff23,
	0x3ff8d,
	0x0002b,
	0x000de,
	0x00178,
	0x001c9,
	0x001ab,
	0x0010d,
	0x00000,
	0x3feb9,
	0x3fd89,
	0x3fccc,
	0x3fcd1,
	0x3fdbc,
	0x3ff79,
	0x001b2,
	0x003de,
	0x0055e,
	0x005a5,
	0x00469,
	0x001bc,
	0x3fe1f,
	0x3fa6a,
	0x3f7a0,
	0x3f6ac,
	0x3f81e,
	0x3fbf2,
	0x0017c,
	0x0077b,
	0x00c5e,
	0x00ea5,
	0x00d4c,
	0x00824,
	0x00000,
	0x3f69f,
	0x3ee5b,
	0x3e999,
	0x3ea2c,
	0x3f0bf,
	0x3fc7f,
	0x00b19,
	0x0191a,
	0x022a9,
	0x02470,
	0x01c92,
	0x00b5a,
	0x3f387,
	0x3da0e,
	0x3c552,
	0x3bbf0,
	0x3c35d,
	0x3de9d,
	0x00d5c,
	0x04ba4,
	0x09248,
	0x0d7f8,
	0x112d3,
	0x13a23,
	0x147f3,
	0x13a23,
	0x112d3,
	0x0d7f8,
	0x09248,
	0x04ba4,
	0x00d5c,
	0x3de9d,
	0x3c35d,
	0x3bbf0,
	0x3c552,
	0x3da0e,
	0x3f387,
	0x00b5a,
	0x01c92,
	0x02470,
	0x022a9,
	0x0191a,
	0x00b19,
	0x3fc7f,
	0x3f0bf,
	0x3ea2c,
	0x3e999,
	0x3ee5b,
	0x3f69f,
	0x00000,
	0x00824,
	0x00d4c,
	0x00ea5,
	0x00c5e,
	0x0077b,
	0x0017c,
	0x3fbf2,
	0x3f81e,
	0x3f6ac,
	0x3f7a0,
	0x3fa6a,
	0x3fe1f,
	0x001bc,
	0x00469,
	0x005a5,
	0x0055e,
	0x003de,
	0x001b2,
	0x3ff79,
	0x3fdbc,
	0x3fcd1,
	0x3fccc,
	0x3fd89,
	0x3feb9,
	0x00000,
	0x0010d,
	0x001ab,
	0x001c9,
	0x00178,
	0x000de,
	0x0002b,
	0x3ff8d,
	0x3ff23,
	0x3fefb,
	0x3ff15,
	0x3ff61,
	0x3ffc9,
	0x00035,
	0x0008f
} ;
