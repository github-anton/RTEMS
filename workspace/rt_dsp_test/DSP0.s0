#
#
#
 .text
      .global Start_DSP
      .global InA
      .global InB
      .global OutC
      .global OutD

; Программа для DSP-ядра
; Выполянются параллельно инструкции умножения MPUU и выбора максимального значения MAX
Start_DSP:
; в регистр R0 кладем значение по адресу, на который указывает A0 (InA), 5
          MOVE    (A0),R0.L
; в регистр R2 - значение по адресу, на который указывает A1 (InB), 2
          MOVE    (A1),R2.L
; регистр R8 обнуляем
          MOVE    0,R8.L
; параллельно умножаем и выбираем наибольшее
          MPUU R0,R2,R0.L MAX R0,R2,R8
; результат поиска максимума кладем по адресу A2 (OutC)
          MOVE    R8.L,(A2)
; результат поиска произведения кладем по адресу A3 (OutD)
          MOVE    R0.L,(A3)
; для того чтобы убедиться в параллельном исполнении инструций,
; в окне Watch List выводим значения переменных OutC и OutD и видим, что максимальное значение,
; выбранное из переменных InA и InB не поменялось после их перемножения.

; выполняется переход DSP-ядра в состояние останова
          STOP

 .data
InA:  .word 0
InB:  .word 0
OutC: .word 0
OutD: .word 0
 .end
